{"version":3,"file":"parseBanners.js","sources":["parseBanners.js"],"sourcesContent":["const setBanner = (() => {\n\tconst url = \"https://anettaschool.ru/banners-page\";\n\n\tasync function fetchBannersData() {\n\t\ttry {\n\t\t\tconst response = await fetch(url);\n\t\t\treturn await response.text();\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Отсутствуют данные: \", error);\n\t\t\tthrow error;\n\t\t}\n\t}\n\n\tasync function getBanners() {\n\t\tconst lessonList = document.querySelector(\".lesson-list\");\n\t\tconst streamTable = document.querySelector(\".stream-table\");\n\n\t\tif (!lessonList && !streamTable) {\n\t\t\tconsole.error(\"Нет элементов\");\n\t\t\treturn;\n\t\t}\n\n\t\ttry {\n\t\t\tconst container = document.createElement(\"div\");\n\t\t\tcontainer.classList.add(\"banner-wrapper\");\n\t\t\tconst bannerData = await fetchBannersData();\n\t\t\tconst parser = new DOMParser();\n\t\t\tconst doc = parser.parseFromString(bannerData, \"text/html\");\n\t\t\tconst bannersElements = Array.from(doc.querySelectorAll(\".banner-item\"));\n\n\t\t\tbannersElements.forEach((banner) => {\n\t\t\t\tcontainer.appendChild(banner);\n\t\t\t});\n\n\t\t\tif (lessonList) {\n\t\t\t\tlessonList.prepend(container);\n\t\t\t} else if (streamTable) {\n\t\t\t\tstreamTable.prepend(container);\n\t\t\t}\n\t\t} catch (error) {\n\t\t\tconsole.error(\"Ошибка getBanners: \", error);\n\t\t}\n\t};\n\n\tconst rotateBanners = () => {\n\t\tconst bannerWrapper = document.querySelector(\".banner-wrapper\");\n\t\tconst banners = Array.from(bannerWrapper.querySelectorAll(\".banner-item\"));\n\n\t\tif (banners.length === 0) return;\n\n\t\tlet lastBanner = banners.shift();\n\n\t\tbanners.push(lastBanner);\n\t\tbannerWrapper.innerHTML = \"\";\n\t\tbanners.forEach(banner => bannerWrapper.append(banner));\n\t};\n\n\treturn { \n\t\tget: getBanners,\n\t\trotate: rotateBanners\n\t};\n})();\n\n\ndocument.addEventListener(\"DOMContentLoaded\", () => {\n\tsetBanner.get;\n\tsetInterval(() => setBanner.rotate, 7000);\n});"],"names":["setBanner","url","get","async","lessonList","document","querySelector","streamTable","container","createElement","classList","add","bannerData","await","fetch","text","error","console","doc","DOMParser","parseFromString","Array","from","querySelectorAll","forEach","appendChild","banner","prepend","rotate","bannerWrapper","lastBanner","banners","length","shift","push","innerHTML","append","addEventListener","setInterval"],"mappings":"AAAA,IAAMA,WAAY,KACjB,IAAMC,EAAM,uCAwDZ,MAAO,CACNC,IA7CDC,iBACC,IAAMC,EAAaC,SAASC,cAAc,cAAc,EAClDC,EAAcF,SAASC,cAAc,eAAe,EAE1D,GAAKF,GAAeG,EAKpB,IACC,IAAMC,EAAYH,SAASI,cAAc,KAAK,EAC9CD,EAAUE,UAAUC,IAAI,gBAAgB,EACxC,IAAMC,EAAaC,MAtBrBV,UACC,IAEC,OAAOU,MADUA,MAAMC,MAAMb,CAAG,GACVc,KAAK,CAI5B,CAHE,MAAOC,GAER,MADAC,QAAQD,MAAM,uBAAwBA,CAAK,EACrCA,CACP,CACD,GAc4C,EAEpCE,GADS,IAAIC,WACAC,gBAAgBR,EAAY,WAAW,EAClCS,MAAMC,KAAKJ,EAAIK,iBAAiB,cAAc,CAAC,EAEvDC,QAAQ,IACvBhB,EAAUiB,YAAYC,CAAM,CAC7B,CAAC,EAEGtB,EACHA,EAAWuB,QAAQnB,CAAS,EAClBD,GACVA,EAAYoB,QAAQnB,CAAS,CAI/B,CAFE,MAAOQ,GACRC,QAAQD,MAAM,sBAAuBA,CAAK,CAC3C,MAvBCC,QAAQD,MAAM,eAAe,CAwB/B,EAiBCY,OAfqB,KACrB,IAAMC,EAAgBxB,SAASC,cAAc,iBAAiB,EAC9D,IAIIwB,EAJEC,EAAUV,MAAMC,KAAKO,EAAcN,iBAAiB,cAAc,CAAC,EAElD,IAAnBQ,EAAQC,SAERF,EAAaC,EAAQE,MAAM,EAE/BF,EAAQG,KAAKJ,CAAU,EACvBD,EAAcM,UAAY,GAC1BJ,EAAQP,QAAQE,GAAUG,EAAcO,OAAOV,CAAM,CAAC,EACvD,CAKA,CACA,GAAE,EAGHrB,SAASgC,iBAAiB,mBAAoB,KAC7CrC,UAAUE,IACVoC,YAAY,IAAMtC,UAAU4B,OAAQ,GAAI,CACzC,CAAC"}